"use strict";var $elemSlideTarget=document.querySelectorAll(".g-slider__slide"),$closePopupSlider=document.querySelector(".popup-slider__close"),$popupSliderBlock=document.querySelector(".popup-slider"),$popupSliderWrap=document.querySelector(".popup-slider__wrap"),$gSlider=new Swiper(".g-slider__container",{slideToClickedSlide:!0,slidesPerView:"auto",preloadImages:!1,lazy:{loadPrevNext:!1},spaceBetween:30,navigation:{nextEl:".g-slider__arrow-next",prevEl:".g-slider__arrow-prev"},breakpoints:{320:{spaceBetween:15},728:{spaceBetween:30}}}),$popupSlider=new Swiper(".popup-slider__container",{slideToClickedSlide:!0,centeredSlides:!0,slidesPerView:"auto",preloadImages:!1,lazy:!0});function deleteSlider(e){var i=e.querySelector(".history-slider");i&&i.remove(),e.querySelector(".popup-slider__preview").style.display="block"}function startHistorySlider(e){createSlider(e);var i=getImagesForSlider($gSlider.slides[$popupSlider.activeIndex],".g-slider__hide-item"),r=e.querySelector(".history-slider__container");addNavSubItemSlider(r),addScrollBar(r),addHederSlide(r),setImagesForslider(i,e),e.querySelector(".popup-slider__preview").style.display="none",new Swiper(".history-slider__container",{allowTouchMove:!1,slideActiveClass:"swiper-slide-active-history",autoplay:{delay:3e3},navigation:{nextEl:".popup-slider__nav-next",prevEl:".popup-slider__nav-prev"},scrollbar:{el:".swiper-scrollbar",draggable:!0},slidesPerView:1,nested:!0})}function setImagesForslider(e,i){e.forEach((function(e){var r=e.cloneNode(!0);editClass(r,"g-slider__hide-item","history-slider__slide","swiper-slide"),i.querySelector(".history-slider__wrap").appendChild(r)}))}function createPreviewSlide(e,i){var r=i.cloneNode(!0);editClass(r,"g-slider__preview","popup-slider__preview"),e.appendChild(r),$popupSliderWrap.appendChild(e)}function createHeaderSlide(e,i){var r=i.cloneNode(!0);editClass(r,"g-slider__slide-header","popup-slider__slide-header"),e.appendChild(r),$popupSliderWrap.appendChild(e),$popupSlider.update()}function getImagesForSlider(e,i){return e.querySelectorAll(i)}function createSlider(e){e.insertAdjacentHTML("afterbegin",'\n  <div class="history-slider popup-slider__history-slider">\n  <div class="history-slider__container swiper-container">\n      <div class="history-slider__wrap swiper-wrapper">\n      </div>\n  </div>\n</div>')}function addHederSlide(e){e.insertAdjacentHTML("afterbegin",'\n  <div class="popup-slider__slide-header">\n  </div>')}function addNavSubItemSlider(e){e.insertAdjacentHTML("afterbegin",'\n  <div class="popup-slider__nav popup-slider__nav-prev"></div>\n  <div class="popup-slider__nav popup-slider__nav-next"></div>')}function addScrollBar(e){e.insertAdjacentHTML("afterbegin",'\n  <div class="swiper-scrollbar"></div>\n  ')}function editClass(e,i,r,d){e.classList.remove(i),e.classList.add(r),d&&e.classList.add(d)}function createElement(e,i,r){var d=document.createElement(e);return d.classList.add(i),d.classList.add(r),d}function updateSlider(e){e.update()}function showSlider(e){e.classList.add("show-slider")}function hideSlider(e){e.classList.remove("show-slider")}$closePopupSlider&&$closePopupSlider.addEventListener("click",(function(){hideSlider($popupSliderBlock),deleteSlider($popupSlider.slides[$popupSlider.activeIndex])})),0!=$elemSlideTarget.length&&$elemSlideTarget.forEach((function(e){var i=e.querySelector(".g-slider__preview"),r=e.querySelector(".g-slider__slide-header");if(i){var d=createElement("div","popup-slider__slide","swiper-slide");createPreviewSlide(d,i),createHeaderSlide(d,r)}e.addEventListener("click",(function(){$popupSlider.activeIndex=$gSlider.activeIndex,$popupSlider.update(),showSlider($popupSliderBlock),startHistorySlider($popupSlider.slides[$popupSlider.activeIndex])}))})),$popupSlider.on("slideChange",(function(){deleteSlider($popupSlider.slides[$popupSlider.previousIndex]),startHistorySlider($popupSlider.slides[$popupSlider.activeIndex])}));