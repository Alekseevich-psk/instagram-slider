"use strict";var elemSlideTarget=document.querySelectorAll(".g-slider__slide"),closePopupSlider=document.querySelector(".popup-slider__close"),popupSliderBlock=document.querySelector(".popup-slider"),popupSliderWrap=document.querySelector(".popup-slider__wrap"),gSlider=new Swiper(".g-slider__container",{slidesPerView:7,slideToClickedSlide:!0,spaceBetween:30,navigation:{nextEl:".g-slider__arrow-next",prevEl:".g-slider__arrow-prev"}}),popupSlider=new Swiper(".popup-slider__container",{slideToClickedSlide:!0,centeredSlides:!0,breakpoints:{320:{slidesPerView:1.8,spaceBetween:20},480:{slidesPerView:3,spaceBetween:30},960:{slidesPerView:3,spaceBetween:160}}});function deleteSlider(e){var i=e.querySelector(".history-slider");i&&i.remove(),e.querySelector(".popup-slider__preview").style.display="block"}function startHistorySlider(e){createSlider(e);var i=getImagesForSlider(gSlider.slides[popupSlider.activeIndex],".g-slider__hide-item"),r=e.querySelector(".history-slider__container");addNavSubItemSlider(r),addScrollBar(r),i.forEach((function(i){var r=i.cloneNode(!0);editClass(r,"g-slider__hide-item","history-slider__slide","swiper-slide"),e.querySelector(".history-slider__wrap").appendChild(r)})),e.querySelector(".popup-slider__preview").style.display="none",new Swiper(".history-slider__container",{allowTouchMove:!1,slideActiveClass:"swiper-slide-active-history",autoplay:{delay:3e3},navigation:{nextEl:".popup-slider__nav-next",prevEl:".popup-slider__nav-prev"},scrollbar:{el:".swiper-scrollbar",draggable:!0},slidesPerView:1,nested:!0})}function createPreviewSlide(e){var i=e.cloneNode(!0),r=createElement("div","popup-slider__slide","swiper-slide");editClass(i,"g-slider__preview","popup-slider__preview"),r.appendChild(i),popupSliderWrap.appendChild(r),popupSlider.update()}function getImagesForSlider(e,i){return e.querySelectorAll(i)}function createSlider(e){e.insertAdjacentHTML("afterbegin",'\n  <div class="history-slider popup-slider__history-slider">\n  <div class="history-slider__container swiper-container">\n      <div class="history-slider__wrap swiper-wrapper">\n      </div>\n  </div>\n</div>')}function addNavSubItemSlider(e){e.insertAdjacentHTML("afterbegin",'\n  <div class="popup-slider__nav popup-slider__nav-prev"></div>\n  <div class="popup-slider__nav popup-slider__nav-next"></div>')}function addScrollBar(e){e.insertAdjacentHTML("afterbegin",'\n  <div class="swiper-scrollbar"></div>\n  ')}function editClass(e,i,r,l){e.classList.remove(i),e.classList.add(r),l&&e.classList.add(l)}function createElement(e,i,r){var l=document.createElement(e);return l.classList.add(i),l.classList.add(r),l}function updateSlider(e){e.update()}function showSlider(e){e.classList.add("show-slider")}function hideSlider(e){e.classList.remove("show-slider")}closePopupSlider&&closePopupSlider.addEventListener("click",(function(){hideSlider(popupSliderBlock),deleteSlider(popupSlider.slides[popupSlider.activeIndex])})),0!=elemSlideTarget.length&&elemSlideTarget.forEach((function(e){var i=e.querySelector(".g-slider__preview");i&&createPreviewSlide(i),e.addEventListener("click",(function(){popupSlider.activeIndex=gSlider.activeIndex,popupSlider.update(),showSlider(popupSliderBlock),startHistorySlider(popupSlider.slides[popupSlider.activeIndex])}))})),popupSlider.on("slideChange",(function(){deleteSlider(popupSlider.slides[popupSlider.previousIndex]),startHistorySlider(popupSlider.slides[popupSlider.activeIndex])}));